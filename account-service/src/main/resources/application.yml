spring:
  application:
    name: account-service
  sleuth:
    sampler:
      probability: 1.0    # трассировать 100% запросов
  zipkin:
    base-url: http://localhost:9411
    sender:
      type: web

  security:
      oauth2:
        resourceserver:
          jwt:
            issuer-uri: http://localhost:8090/realms/bank

        client:
          registration:
            account-service-client:      # имя регистрации — можно любое понятное
              provider: keycloak
              client-id: account-service    # этот клиент должен быть создан в Keycloak  
              client-secret: 5YPmTkSgyzfDwJHBnHHRPE9OIEVmYaYq
              scope: openid, profile, email
              authorization-grant-type: client_credentials
          provider:
            keycloak:
              token-uri: http://localhost:8090/realms/bank/protocol/openid-connect/token

  r2dbc:
    url: r2dbc:postgresql://localhost:5432/bank?currentSchema=account
    username: postgres
    password: Fd18091971

  sql:
    init:
      mode: never

#   flyway:
#     url: jdbc:postgresql://localhost:5432/bank
#     user: postgres
#     password: Fd18091971
#     schemas: account
#     locations: classpath:db/migration/account

  cloud:
    consul:
      host: localhost
      port: 8500
      discovery:
        enabled: false

server:
  port: 8082

logging:
  level:
    root: INFO
